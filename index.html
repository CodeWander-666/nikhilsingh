<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NIKHIL SINGH | VIRTUAL TOURMAN</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;900&family=Rajdhani:wght@500;700&display=swap');

        :root {
            --neon-cyan: #00f3ff;
            --neon-purple: #bc13fe;
            --dark-bg: #050510;
            --glass: rgba(20, 30, 40, 0.6);
        }

        body {
            margin: 0; overflow: hidden; background: var(--dark-bg);
            font-family: 'Rajdhani', sans-serif;
            user-select: none; touch-action: none;
        }

        /* --- 6D HUD LAYER --- */
        #hud {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10;
            perspective: 1000px;
        }

        .hud-panel {
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }

        /* Header Stats */
        #stats-bar {
            top: 20px; left: 20px;
            background: var(--glass);
            border: 1px solid var(--neon-cyan);
            padding: 15px 30px; border-radius: 10px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
            display: flex; gap: 20px;
            transform: translateZ(20px);
        }
        .stat-item { text-align: center; }
        .stat-val { font-family: 'Orbitron'; font-size: 1.5rem; color: #fff; }
        .stat-label { font-size: 0.8rem; color: var(--neon-cyan); letter-spacing: 2px; }

        /* Start Screen */
        #start-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 100;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            backdrop-filter: blur(20px);
        }
        h1 {
            font-family: 'Orbitron'; font-size: 3rem; color: #fff;
            text-shadow: 0 0 30px var(--neon-cyan); text-align: center;
            margin-bottom: 10px;
        }
        .subtitle { color: var(--neon-purple); letter-spacing: 5px; margin-bottom: 40px; font-size: 1.2rem; }
        
        #start-btn {
            padding: 20px 60px; font-size: 1.5rem; font-family: 'Orbitron';
            background: transparent; color: var(--neon-cyan);
            border: 2px solid var(--neon-cyan); border-radius: 50px;
            cursor: pointer; transition: 0.3s;
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);
        }
        #start-btn:hover { background: var(--neon-cyan); color: #000; transform: scale(1.1); }

        /* Info Modal (Hologram) */
        #holo-modal {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 80%; max-width: 500px;
            background: rgba(10, 15, 20, 0.95);
            border: 2px solid var(--neon-purple);
            padding: 40px; border-radius: 20px;
            text-align: center; color: #fff;
            box-shadow: 0 0 100px rgba(188, 19, 254, 0.4);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: auto;
        }
        #holo-modal.active { transform: translate(-50%, -50%) scale(1); }
        
        .holo-title { color: var(--neon-cyan); font-family: 'Orbitron'; margin-bottom: 15px; font-size: 1.8rem; }
        .holo-text { line-height: 1.6; font-size: 1.1rem; color: #ddd; margin-bottom: 25px; }
        .holo-btn {
            background: var(--neon-purple); border: none; padding: 10px 30px;
            color: #fff; font-weight: bold; cursor: pointer; border-radius: 5px;
            box-shadow: 0 0 20px var(--neon-purple);
        }

        /* Mobile Controls Hint */
        #tap-hint {
            position: absolute; bottom: 50px; width: 100%; text-align: center;
            color: rgba(255,255,255,0.5); font-size: 1.2rem; animation: pulse 1s infinite;
            pointer-events: none; display: none;
        }
        @keyframes pulse { 0%,100% { opacity: 0.5; } 50% { opacity: 1; } }

    </style>
</head>
<body>

    <div id="start-screen">
        <h1>NIKHIL SINGH</h1>
        <div class="subtitle">DATA ANALYST // AI ARCHITECT</div>
        <button id="start-btn" onclick="startGame()">INITIATE RUN</button>
    </div>

    <div id="hud">
        <div id="stats-bar" class="hud-panel">
            <div class="stat-item">
                <div class="stat-val" id="score">0</div>
                <div class="stat-label">DATA BYTES</div>
            </div>
            <div class="stat-item" style="margin-left: 20px;">
                <div class="stat-val" id="distance">0m</div>
                <div class="stat-label">DISTANCE</div>
            </div>
        </div>
        <div id="tap-hint">TAP TO JUMP</div>
    </div>

    <div id="holo-modal">
        <h2 class="holo-title" id="m-title">DATA UNLOCKED</h2>
        <p class="holo-text" id="m-desc">Description...</p>
        <button class="holo-btn" onclick="resumeGame()">CONTINUE</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // --- DATA STORE (From Images) ---
        const profileData = [
            { type: "ROLE", title: "Data Analyst Trainee", desc: "Currently mastering Full Stack Data Science & AI at AlmaBetter (Aug 2025 - Present). Specializing in Python, SQL, and GenAI." },
            { type: "PROJECT", title: "NovusFace AI", desc: "Built a Full-Stack Generative AI Engine for Face Swapping using Python, FastAPI, Docker, and PyTorch." },
            { type: "PROJECT", title: "SEOMAN AI", desc: "Developed a 360-degree AI-powered SEO Analyzer to solve real-world business ranking problems." },
            { type: "EXP", title: "Sales & Marketing", desc: "Former Intern at SG Gurukul. Experienced in Telesales and Education Counseling." },
            { type: "EDU", title: "Education", desc: "BBA (Finance) from Prestige Institute (2021-2023). Shifted focus to solving problems with Data & AI." },
            { type: "CERT", title: "ChatGPT Expert", desc: "Certified by be10x.in in ChatGPT & AI Tools. Focused on staying at the cutting edge of AI." }
        ];

        // --- GAME ENGINE SETUP ---
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x050510, 0.04); // Cyber fog

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 3, 6);
        camera.lookAt(0, 1, 0);

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);

        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        
        const dirLight = new THREE.DirectionalLight(0x00f3ff, 1);
        dirLight.position.set(5, 10, 5);
        dirLight.castShadow = true;
        scene.add(dirLight);

        // --- GAME OBJECTS ---

        // 1. Infinite Floor (Grid)
        const gridHelper = new THREE.GridHelper(200, 100, 0xbc13fe, 0x111111);
        gridHelper.position.y = 0;
        scene.add(gridHelper);

        const floorGeo = new THREE.PlaneGeometry(200, 200);
        const floorMat = new THREE.MeshBasicMaterial({ color: 0x050510 });
        const floor = new THREE.Mesh(floorGeo, floorMat);
        floor.rotation.x = -Math.PI / 2;
        floor.position.y = -0.1;
        scene.add(floor);

        // 2. The Runner (Cyber Cube)
        const runnerGeo = new THREE.BoxGeometry(0.8, 0.8, 0.8);
        const runnerMat = new THREE.MeshStandardMaterial({ 
            color: 0x00f3ff, emissive: 0x001133, roughness: 0.1, metalness: 0.8 
        });
        const runner = new THREE.Mesh(runnerGeo, runnerMat);
        runner.position.y = 0.4;
        runner.castShadow = true;
        scene.add(runner);

        // Glow Trail
        const trailGeo = new THREE.TrailGeometry(runner.position, 20); // Pseudo-trail logic handled in animate

        // 3. Object Pools
        const obstacles = [];
        const collectibles = [];
        
        function createObstacle(z) {
            const geo = new THREE.ConeGeometry(0.5, 1.5, 4);
            const mat = new THREE.MeshStandardMaterial({ color: 0xff0055, emissive: 0x440000 });
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.set(0, 0.75, z);
            mesh.castShadow = true;
            scene.add(mesh);
            obstacles.push(mesh);
        }

        function createCollectible(z) {
            const geo = new THREE.IcosahedronGeometry(0.4, 0);
            const mat = new THREE.MeshStandardMaterial({ color: 0xbc13fe, emissive: 0x4400aa, wireframe: true });
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.set(0, 1.5, z);
            scene.add(mesh);
            collectibles.push(mesh);
            
            // Beacon
            const lineGeo = new THREE.BufferGeometry().setFromPoints([new THREE.Vector3(0,0,0), new THREE.Vector3(0,10,0)]);
            const lineMat = new THREE.LineBasicMaterial({ color: 0xbc13fe, transparent: true, opacity: 0.3 });
            const line = new THREE.Line(lineGeo, lineMat);
            line.position.copy(mesh.position);
            scene.add(line);
            mesh.userData.line = line; // link to remove later
        }

        // --- GAME LOGIC ---
        let isPlaying = false;
        let isPaused = false;
        let speed = 0.3;
        let score = 0;
        let dist = 0;
        let jumpVelocity = 0;
        let isJumping = false;
        const gravity = -0.015;
        const jumpForce = 0.35;
        
        let spawnTimer = 0;

        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('tap-hint').style.display = 'block';
            isPlaying = true;
            animate();
        }

        function jump() {
            if(isJumping || isPaused || !isPlaying) return;
            isJumping = true;
            jumpVelocity = jumpForce;
            
            // Flip Animation
            const flip = setInterval(() => {
                runner.rotation.x -= 0.2;
                if(!isJumping) clearInterval(flip);
            }, 16);
        }

        function unlockData() {
            isPaused = true;
            const data = profileData[Math.floor(Math.random() * profileData.length)];
            document.getElementById('m-title').innerText = data.title;
            document.getElementById('m-desc').innerText = data.desc;
            document.getElementById('holo-modal').classList.add('active');
        }

        window.resumeGame = function() {
            document.getElementById('holo-modal').classList.remove('active');
            isPaused = false;
        };

        // Inputs
        window.addEventListener('keydown', (e) => {
            if(e.code === 'Space') jump();
        });
        window.addEventListener('touchstart', (e) => {
            e.preventDefault(); jump();
        });
        window.addEventListener('mousedown', () => jump());

        // --- 6D PARALLAX ---
        window.addEventListener('mousemove', (e) => {
            if(isPaused) return;
            const x = (e.clientX / window.innerWidth - 0.5) * 30;
            const y = (e.clientY / window.innerHeight - 0.5) * 30;
            document.getElementById('stats-bar').style.transform = `translateZ(20px) rotateX(${-y}deg) rotateY(${x}deg)`;
        });

        // --- MAIN LOOP ---
        function animate() {
            requestAnimationFrame(animate);
            if(!isPlaying || isPaused) return;

            // 1. Move Environment (Illusion of running)
            dist += speed;
            document.getElementById('distance').innerText = Math.floor(dist) + 'm';
            
            gridHelper.position.z += speed;
            if(gridHelper.position.z > 10) gridHelper.position.z = 0; // Reset grid

            // 2. Physics
            if(isJumping) {
                runner.position.y += jumpVelocity;
                jumpVelocity += gravity;
                if(runner.position.y <= 0.4) {
                    runner.position.y = 0.4;
                    isJumping = false;
                    runner.rotation.x = 0; // Reset rotation
                }
            }

            // 3. Spawning
            spawnTimer += speed;
            if(spawnTimer > 15) {
                spawnTimer = 0;
                // Randomly spawn obstacle or collectible
                if(Math.random() > 0.4) createObstacle(-50);
                else createCollectible(-50);
            }

            // 4. Update Objects & Collision
            
            // Obstacles
            for(let i = obstacles.length - 1; i >= 0; i--) {
                const obs = obstacles[i];
                obs.position.z += speed;
                
                // Collision
                if(obs.position.z > -1 && obs.position.z < 1) {
                    if(runner.position.y < 1.0) {
                        // HIT! Reset stats for now
                        score = Math.max(0, score - 50);
                        document.getElementById('score').innerText = score;
                        // Flash red
                        document.body.style.background = '#300';
                        setTimeout(() => document.body.style.background = '#050510', 100);
                        
                        scene.remove(obs);
                        obstacles.splice(i, 1);
                        continue;
                    }
                }

                // Cleanup
                if(obs.position.z > 10) {
                    scene.remove(obs);
                    obstacles.splice(i, 1);
                }
            }

            // Collectibles
            for(let i = collectibles.length - 1; i >= 0; i--) {
                const col = collectibles[i];
                col.position.z += speed;
                col.rotation.y += 0.05;
                col.userData.line.position.z = col.position.z;

                // Collision
                if(col.position.z > -1 && col.position.z < 1) {
                    if(runner.position.y > 0.8 || Math.abs(runner.position.x - col.position.x) < 0.5) {
                        // COLLECTED!
                        score += 100;
                        document.getElementById('score').innerText = score;
                        
                        scene.remove(col);
                        scene.remove(col.userData.line);
                        collectibles.splice(i, 1);
                        
                        unlockData(); // Trigger Modal
                        continue;
                    }
                }

                if(col.position.z > 10) {
                    scene.remove(col);
                    scene.remove(col.userData.line);
                    collectibles.splice(i, 1);
                }
            }

            renderer.render(scene, camera);
        }

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
